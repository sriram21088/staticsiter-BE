<!DOCTYPE html>
<html lang="en" class="h-100">

<head>
    <meta charset="UTF-8">
    <title>SSER-DESIGN</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
        integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V"
        crossorigin="anonymous"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        .column {
            border: 1px dotted grey;
        }

        .holder {
            height: 90%;
        }

        .leftPane,
        .platform {
            background-color: #a2a2a240;
            box-shadow: 0px 5px 7px;
        }
    </style>

</head>

<body class="h-100">
    <div id="app" class="h-100">
        <div class="container-fluid h-100">
            <div class="row mb-2 holder">
                <div class="column col-2 leftPane">
                    <select v-model="activeType">
                        <option value="null">Select an Element</option>
                        <option v-for="option in availableElements" :value="option.value">
                            {{ option.text }}
                        </option>
                    </select>
                </div>
                <div class="column col-10 platform">
                    <div class="container h-100">
                        <div class="row">
                            <Cell></Cell>
                             <Cell></Cell>
                             <Cell></Cell>
                        </div>
                        <div class="row">
                            <Cell></Cell>
                             <Cell></Cell>
                             <Cell></Cell>

                        </div>
                        <div class="row">
                            <Cell></Cell>
                            <Cell></Cell>
                            <Cell></Cell>

                        </div>
                        <div class="row">
                            <Cell></Cell>
                             <Cell></Cell>
                             <Cell></Cell>
                        </div>
                        <div class="row">
                            <Cell></Cell>
                             <Cell></Cell>
                             <Cell></Cell>
                        </div>
                        <div class="row">
                             <Cell></Cell>
                             <Cell></Cell>
                             <Cell></Cell>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="column text-center">
                    <button @click="generatePage">{{SUBMIT_MESSAGE}}</button>
                </div>
            </div>
        </div>


    </div>
    <script type="vue-template" id="custom-button">
        <div class="column col-md-4 text-center">
         Cell
        </div>
    </script>

    <script>
       const Cell = {
        template: "#custom-button"
       };
        const app = Vue.createApp({
            data() {
                return {
                    SUBMIT_MESSAGE: "GENERATE THE PAGE",
                    activeType: null,
                    availableElements: [
                        { text: "titleBig", value: "H1" },
                        { text: "titleSmall", value: "H2" },
                        { text: "titleSmaller", value: "H3" },
                        { text: "link", value: "a" },
                        { text: "image", value: "img" },
                        { text: "text", value: "p" },

                    ]
                }
            },
            components:{Cell:Cell},
            methods: {
                generatePage: function () {
                    var http = new XMLHttpRequest();
                    var url = '/getPage';

                    http.open('POST', url, true);

                    //Send the proper header information along with the request
                    http.setRequestHeader('Content-type', 'application/json');
                    http.onreadystatechange = function () {
                        if (http.readyState == 4 && http.status == 200) {
                            var win = window.open("/Result");
                            setTimeout(function () {
                                win.document.write(http.responseText);
                            }, 1000)

                        }
                    }
                    http.send(JSON.stringify({
                        "elements": [
                             { "type": "h1",  "val": "MY NAME IS..", "style": "color:red" },
                            { "type": "p", "val": "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam id auctor urna. Ut luctus neque et dui dictum, maximus dictum ante ultricies. Aliquam nec massa sem. In hac habitasse platea dictumst. Vestibulum a leo sed sem elementum euismod in sit amet augue. Ut leo nibh, euismod vitae consectetur vitae, efficitur sit amet neque. Duis sagittis, ipsum id placerat hendrerit, orci arcu volutpat turpis, ac rutrum risus risus ut nunc. Fusce in neque ut nibh pretium consectetur ac sit amet ex. Integer aliquet eros et purus blandit iaculis. Aenean massa est, facilisis et nunc nec, venenatis auctor dolor. Nulla facilisi. Mauris luctus risus quis nulla tempus, at fringilla nulla tempor. Nullam eget libero sit amet tortor dignissim accumsan et at tellus.", "style": "color:red" },
                            { "type": "h", "val": "sample", "style": "color:orange" },
                            { "type": "div", "style": "color:red", "val": "ng'>" },
                             { "type": "img", "attr":[{"name":"src","val":"https://images.unsplash.com/photo-1671525872560-ee97bd152fd7?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=387&q=80"}] },
                            { "type": "a", "attr":[{"name":"href","val":"https://www.google.com"}], "style": "color:blue", "val": "22" }
                        ]
                    }));
                }
            }
        }).mount("#app");
       
    </script>
</body>

</html>